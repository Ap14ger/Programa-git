<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>REGEL - Inicio de Sesión</title>
  <link rel="stylesheet" href="/css/styles.css">
  <style>
    /* Estilos adicionales para el mensaje de error */
    .login-form.invalid {
      animation: shake 0.5s;
    }

    @keyframes shake {
      0% { transform: translateX(0); }
      20% { transform: translateX(-10px); }
      40% { transform: translateX(10px); }
      60% { transform: translateX(-10px); }
      80% { transform: translateX(10px); }
      100% { transform: translateX(0); }
    }
  </style>
</head>
<body>

<div class="cover-image">
  <form class="login-form" id="loginForm" action="procesar_login.php" method="POST">
    <h2>Iniciar sesión</h2>
    <!-- Campo para el nombre de usuario -->
    <input type="text" name="usuario" id="usuario" placeholder="Nombre de usuario" required>
    <!-- Campo para la contraseña -->
    <input type="password" name="contraseña" id="contraseña" placeholder="Contraseña" required>
    <!-- Botón para enviar el formulario -->
    <input type="submit" value="Iniciar sesión" id="submitButton">
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const loginForm = document.getElementById('loginForm');
    const usuarioInput = document.getElementById('usuario');
    const contraseñaInput = document.getElementById('contraseña');
    const submitButton = document.getElementById('submitButton');

    loginForm.addEventListener('submit', function(event) {
      event.preventDefault(); // Evitar que el formulario se envíe automáticamente

      const usuario = usuarioInput.value;
      const contraseña = contraseñaInput.value;

      // Aquí puedes realizar la verificación del usuario y la contraseña
      // Por ejemplo, podrías hacer una solicitud AJAX al servidor para verificar las credenciales


      // Simulación de verificación (cambiar por tu lógica de verificación real)
      if (verificarCredenciales(usuario, contraseña)) {
        // Credenciales válidas, enviar el formulario
        window.location.href = 'inicio.html'; //'index1.html' es la ruta de la página principal
      } else {
        // Credenciales inválidas, mostrar mensaje de error
        showError('Nombre de usuario o contraseña incorrectos');
      }
    });

    function verificarCredenciales(usuario, contraseña) {
      // Aquí debes verificar si las credenciales proporcionadas son válidas
      // Puedes hacerlo comparando con una lista de usuarios autorizados en tu backend

      const usuariosAutorizados = {
        'luis': '1234',
        'usuario2': 'contraseña2',
        // Agrega más usuarios autorizados según sea necesario
      };

      return usuariosAutorizados.hasOwnProperty(usuario) && usuariosAutorizados[usuario] === contraseña;
    }

    function showError(message) {
      // Crear un elemento para el mensaje de error
      const errorElement = document.createElement('p');
      errorElement.textContent = message;
      errorElement.style.color = 'red';

      // Insertar el mensaje de error antes del botón de enviar
      loginForm.insertBefore(errorElement, submitButton);

      // Agregar una clase al formulario para mostrar un estilo especial en caso de error
      loginForm.classList.add('invalid');

      // Remover el mensaje de error después de 3 segundos
      setTimeout(function() {
        errorElement.remove();
        loginForm.classList.remove('invalid');
      }, 3000);
    }
  });
</script>

</body>
</html>
