<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reportes - REGEL</title>
  <style>
    /* Estilos generales */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    /* Estilos del encabezado */
    header {
      background-color: #333;
      color: white;
      padding: 20px 0;
      text-align: center;
    }
    /* Estilos del título */
    h1 {
      margin: 0;
    }
    /* Estilos de la barra de navegación */
    nav {
      background-color: #f4f4f4;
      padding: 10px 20px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      display: flex;
      justify-content: space-between;
    }

    nav ul {
      list-style-type: none;
      margin: 0;
      padding: 0;
    }

    nav ul li {
      display: inline;
    }

    nav ul li:not(:last-child) {
      margin-right: 20px;
    }

    nav ul li a {
      text-decoration: none; 
      color: #555;
      border-radius: 30px;
      transition: background-color 0.3s ease, color 0.3s ease;
      border: 2px solid transparent;
      padding: 10px 20px;
    }

    nav ul li a:hover {
      background-color: #ccc;
      color: #333;
    }

    nav ul li a:hover {
      background-color: #eee;
      border-color: #ccc;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Estilos del contenedor principal */
    .container {
      max-width: 960px;
      margin: 20px auto;
      padding: 0 20px;
    }
    /* Estilos del formulario */
    form {
      background-color: #f4f4f4;
      padding: 20px;
      border-radius: 10px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    label {
      display: block;
      font-weight: bold;
    }
    input[type="text"],
    textarea {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    .hidden {
      display: none; 
    }
    button[type="submit"] {
      padding: 10px 20px;
      background-color: #333;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button[type="submit"]:hover {
      background-color: #555;
    }
  </style>
</head>
<body>

  <!-- Encabezado -->
  <header>
    <h1>REGEL</h1> 
  </header>

  <!-- Barra de navegación -->
  <nav>
    <ul>
      <!-- Enlace a la página de inicio -->
      <li><a href="inicio.html">Inicio</a></li> 
      <!-- Enlace a la página de inventario -->
      <li><a href="inventario.html">Inventario</a></li> 
      <!-- Enlace a la página de reportes -->
      <li><a href="reportes.html">Reportes</a></li> 
      <!-- Enlace a la página del maestro de novedades -->
      <li><a href="maestro_de_novedades.html">Maestro de novedades</a></li> 
    </ul>
    <ul>
      <!-- Enlace para cerrar sesión -->
      <li><a href="#" id="cerrarSesion">Cerrar Sesión</a></li>  
    </ul>
  </nav>

  <!-- Contenedor principal -->
  <div class="container">
    <!-- Título de la sección -->
    <h2>Registro de Novedades</h2>
    <!-- Instrucciones para el usuario -->
    <p>Por favor, complete el formulario para registrar una novedad.</p>
    <!-- Formulario de registro de novedades -->
    <form id="novedades-form">
      
      <div class="form-group">
          <!-- Etiqueta del selector -->
          <label for="selector">Seleccione:</label>
          <!-- Selector de tipo de novedad -->
          <select id="selector" name="selector">
              <!-- Opción predeterminada -->
              <option value="">Seleccione una opción</option>
              <!-- Opción para registrar novedades de operador -->
              <option value="operador">Operador</option>
              <!-- Opción para registrar novedades de bus -->
              <option value="bus">Bus</option>
          </select>
      </div>

      <!-- Operador -->
      <div class="form-group hidden" id="operador-fields">
        <label for="tipo-novedad-operador">Tipo de novedad:</label>
        <select id="tipo-novedad-operador" name="tipo-novedad-operador">
          <option value="">Seleccione un tipo de novedad</option>
          <option value="ausentismo">Ausentismo</option>
          <option value="cita_medica">Cita médica</option>
          <option value="incapacidad">Incapacidad</option>
          <option value="novedad_en_via">Novedad en vía</option>
          <option value="otra">Otra</option> 
        </select>
      </div>
      <!--asta aca -->

      <!-- Ausentismo -->
      <div class="form-group hidden" id="ausentismo-fields">
        <label for="nombre-ausentismo">Nombre:</label>
        <input type="text" id="nombre-ausentismo" name="nombre-ausentismo">
        <label for="codigo-ausentismo">Código:</label>
        <input type="text" id="codigo-ausentismo" name="codigo-ausentismo">
        <label for="descripcion-ausentismo">Descripción:</label>
        <textarea id="descripcion-ausentismo" name="descripcion-ausentismo" rows="4"></textarea>
      </div>
      <!--asta aca-->

      <!-- Cita médica -->
      <div class="form-group hidden" id="cita_medica-fields">
        <label for="nombre-cita_medica">Nombre:</label>
        <input type="text" id="nombre-cita_medica" name="nombre-cita_medica">
        <label for="codigo-cita_medica">Código:</label>
        <input type="text" id="codigo-cita_medica" name="codigo-cita_medica">
        <label for="descripcion-cita_medica">Descripción:</label>
        <textarea id="descripcion-cita_medica" name="descripcion-cita_medica" rows="4"></textarea>
      </div>
      <!--asta aca-->

      <!-- Incapacidad -->
      <div class="form-group hidden" id="incapacidad-fields">
        <label for="nombre-incapacidad">Nombre:</label>
        <input type="text" id="nombre-incapacidad" name="nombre-incapacidad">
        <label for="codigo-incapacidad">Código:</label>
        <input type="text" id="codigo-incapacidad" name="codigo-incapacidad">
        <label for="descripcion-incapacidad">Descripción:</label>
        <textarea id="descripcion-incapacidad" name="descripcion-incapacidad" rows="4"></textarea>
      </div>
      <!--asta aca-->

      <!-- Novedad en vía -->
      <div class="form-group hidden" id="novedad_en_via-fields">
        <label for="nombre-novedad_en_via">Nombre:</label>
        <input type="text" id="nombre-novedad_en_via" name="nombre-novedad_en_via">
        <label for="codigo-novedad_en_via">Código:</label>
        <input type="text" id="codigo-novedad_en_via" name="codigo-novedad_en_via">
        <label for="descripcion-novedad_en_via">Descripción:</label>
        <textarea id="descripcion-novedad_en_via" name="descripcion-novedad_en_via" rows="4"></textarea>
      </div>
      <!--asta aca -->

      <!-- Otra -->
      <div class="form-group hidden" id="otra-fields">
        <label for="nombre-otra">Nombre:</label>
        <input type="text" id="nombre-otra" name="nombre-otra">
        <label for="codigo-otra">Código:</label>
        <input type="text" id="codigo-otra" name="codigo-otra">
        <label for="descripcion-otra">Descripción:</label>
        <textarea id="descripcion-otra" name="descripcion-otra" rows="4"></textarea>
      </div>
      <!--asta aca-->

      <!-- Bus -->
      <div class="form-group hidden" id="bus-fields">
        <label for="tipo-novedad">Tipo de novedad:</label>
        <select id="tipo-novedad" name="tipo-novedad">
          <option value="">Seleccione un tipo de novedad</option>
          <option value="mantenimiento">Mantenimiento</option>
          <option value="novedad_via">Novedad en vía</option>
        </select>
      </div>
      <!--asta aca -->

      <!-- Novedad en vía para bus -->
      <div class="form-group hidden" id="novedad-via-fields">
        <label for="nombre-novedad-via">Nombre:</label>
        <input type="text" id="nombre-novedad-via" name="nombre-novedad-via">
        <label for="codigo-novedad-via">Código:</label>
        <input type="text" id="codigo-novedad-via" name="codigo-novedad-via">
        <label for="numero-bus-novedad-via">Número de bus:</label>
        <input type="text" id="numero-bus-novedad-via" name="numero-bus-novedad-via">
        <label for="descripcion-novedad-via">Descripción:</label>
        <textarea id="descripcion-novedad-via" name="descripcion-novedad-via" rows="4"></textarea>
      </div>
      <!--asta aca -->

      <!-- Mantenimiento para bus -->
      <div class="form-group hidden" id="mantenimiento-fields">
        <label for="numero-bus-mantenimiento">Número de Bus:</label>
        <input type="text" id="numero-bus-mantenimiento" name="numero-bus-mantenimiento">
        <label for="descripcion-mantenimiento">Descripción:</label>
        <textarea id="descripcion-mantenimiento" name="descripcion-mantenimiento" rows="4"></textarea>
      </div>
      <!--asta aca -->

      <!-- Contenedor para mensajes de error o éxito -->
      <div class="form-group" id="mensaje-container" style="display: none;"></div>
      <!-- Botón para enviar el formulario -->
      <button type="submit" id="submit-btn" class="hidden">Guardar Novedad</button>
      <!-- Animación de carga -->
      <div class="loader" id="loader" style="display: none;"></div>
    </form>
  </div>

  <script>
    // Escucha el cambio en el selector
    document.getElementById('selector').addEventListener('change', function () {
        var selectedOption = this.value;

        var operadorFields = document.getElementById('operador-fields');
        var busFields = document.getElementById('bus-fields');

        operadorFields.classList.add('hidden'); 
        busFields.classList.add('hidden');

        // Ocultar los campos relacionados con el tipo de novedad para evitar la persistencia
        document.getElementById('ausentismo-fields').classList.add('hidden');
        document.getElementById('cita_medica-fields').classList.add('hidden');
        document.getElementById('incapacidad-fields').classList.add('hidden');
        document.getElementById('novedad_en_via-fields').classList.add('hidden');
        document.getElementById('otra-fields').classList.add('hidden');
        document.getElementById('novedad-via-fields').classList.add('hidden');
        document.getElementById('mantenimiento-fields').classList.add('hidden');

        if (selectedOption === 'operador') {
            operadorFields.classList.remove('hidden');
        } else if (selectedOption === 'bus') {
            busFields.classList.remove('hidden');
        }
    });

    // Escucha el cambio en el tipo de novedad para el operador
    document.getElementById('tipo-novedad-operador').addEventListener('change', function () {
        var selectedOption = this.value;

        // Ocultar todos los campos relacionados con el tipo de novedad para evitar la persistencia
        document.getElementById('ausentismo-fields').classList.add('hidden');
        document.getElementById('cita_medica-fields').classList.add('hidden');
        document.getElementById('incapacidad-fields').classList.add('hidden');
        document.getElementById('novedad_en_via-fields').classList.add('hidden');
        document.getElementById('otra-fields').classList.add('hidden');

        var ausentismoFields = document.getElementById('ausentismo-fields');
        var citaMedicaFields = document.getElementById('cita_medica-fields');
        var incapacidadFields = document.getElementById('incapacidad-fields');
        var novedadEnViaFields = document.getElementById('novedad_en_via-fields');
        var otraFields = document.getElementById('otra-fields');

        ausentismoFields.classList.add('hidden');
        citaMedicaFields.classList.add('hidden');
        incapacidadFields.classList.add('hidden');
        novedadEnViaFields.classList.add('hidden');
        otraFields.classList.add('hidden');

        if (selectedOption === 'ausentismo') {
            ausentismoFields.classList.remove('hidden');
        } else if (selectedOption === 'cita_medica') {
            citaMedicaFields.classList.remove('hidden');
        } else if (selectedOption === 'incapacidad') {
            incapacidadFields.classList.remove('hidden');
        } else if (selectedOption === 'novedad_en_via') {
            novedadEnViaFields.classList.remove('hidden');
        } else if (selectedOption === 'otra') {
            otraFields.classList.remove('hidden');
        }
    });

    // Escucha el cambio en el tipo de novedad para el bus
    document.getElementById('tipo-novedad').addEventListener('change', function () {
        var selectedOption = this.value;

        // Ocultar todos los campos relacionados con el tipo de novedad para evitar la persistencia
        document.getElementById('novedad-via-fields').classList.add('hidden');
        document.getElementById('mantenimiento-fields').classList.add('hidden');

        var novedadViaFields = document.getElementById('novedad-via-fields');
        var mantenimientoFields = document.getElementById('mantenimiento-fields');

        novedadViaFields.classList.add('hidden');
        mantenimientoFields.classList.add('hidden');

        if (selectedOption === 'novedad_via') {
            novedadViaFields.classList.remove('hidden');
        } else if (selectedOption === 'mantenimiento') {
            mantenimientoFields.classList.remove('hidden');
        }
    });

    // Agrega confirmación para cerrar sesión
    document.getElementById('cerrarSesion').addEventListener('click', function (event) {
        event.preventDefault();
        const confirmacion = confirm('¿Estás seguro de que deseas cerrar sesión?');
        if (confirmacion) {
            window.location.href = 'index.html';
        }
    });
</script>

</body>
</html>
